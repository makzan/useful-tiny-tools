<!-- Created by GPT-5-Codex -->
<!-- Build a web page that draw Bingo number from 1 to 75, show the history of drawing. and not duplicate of already drew number. Nicely display layout for both mobile view and for showing on big TV on the stage. -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Bingo Number Draw</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      color-scheme: light dark;
      --bg: #0d1117;
      --card-bg: rgba(255, 255, 255, 0.08);
      --accent: #60a5fa;
      --text: #f9fafb;
      --text-muted: #cbd5f5;
      --border: rgba(255, 255, 255, 0.15);
      font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      margin: 0;
      background: radial-gradient(circle at top, #1f2937 0%, #0b1120 45%, #05070d 100%);
      color: var(--text);
      display: flex;
      min-height: 100vh;
      padding: clamp(1.5rem, 2vw, 3rem);
      box-sizing: border-box;
    }

    .app {
      margin: auto;
      width: min(1200px, 100%);
      display: grid;
      gap: clamp(1.5rem, 3vw, 2.5rem);
    }

    header {
      text-align: center;
    }

    header h1 {
      margin: 0;
      font-size: clamp(2.2rem, 6vw, 4.5rem);
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--text);
      text-shadow: 0 0 25px rgba(96, 165, 250, 0.3);
    }

    header p {
      margin: 0.5rem 0 0;
      color: var(--text-muted);
      font-size: clamp(1rem, 2vw, 1.5rem);
    }

    .display-card {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: clamp(24px, 4vw, 40px);
      padding: clamp(1.5rem, 3vw, 3rem);
      display: grid;
      gap: clamp(1.25rem, 3vw, 2.5rem);
      backdrop-filter: blur(12px);
      box-shadow:
        inset 0 0 0 1px rgba(255, 255, 255, 0.03),
        0 25px 70px -20px rgba(15, 23, 42, 0.7);
    }

    .main-display {
      display: grid;
      gap: clamp(1rem, 2.5vw, 2rem);
      align-items: center;
      text-align: center;
    }

    .big-number {
      justify-self: center;
      width: clamp(180px, 40vw, 360px);
      aspect-ratio: 1 / 1;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.18), rgba(15, 23, 42, 0.85));
      border: 6px solid rgba(96, 165, 250, 0.8);
      display: grid;
      place-content: center;
      box-shadow: 0 0 40px rgba(96, 165, 250, 0.35);
    }

    .big-value {
      font-size: clamp(5rem, 12vw, 10rem);
      font-weight: 800;
      line-height: 0.85;
      letter-spacing: 0.04em;
    }

    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      justify-content: center;
    }

    button {
      appearance: none;
      border: none;
      border-radius: 999px;
      padding: clamp(0.85rem, 2vw, 1.1rem) clamp(2.5rem, 6vw, 3.5rem);
      font-size: clamp(1.05rem, 2.2vw, 1.5rem);
      font-weight: 600;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      cursor: pointer;
      transition: transform 0.1s ease, box-shadow 0.15s ease, filter 0.15s ease;
      color: #0f172a;
      background: linear-gradient(135deg, #38bdf8, #6366f1);
      box-shadow: 0 15px 35px -18px rgba(99, 102, 241, 0.8);
    }

    button:active {
      transform: translateY(2px);
      filter: brightness(0.95);
    }

    button:disabled {
      cursor: not-allowed;
      filter: grayscale(0.4);
      opacity: 0.55;
      transform: none;
      box-shadow: none;
    }

    .secondary-btn {
      background: linear-gradient(135deg, #f97316, #fb7185);
      color: #fff5f2;
    }

    .history-panel {
      display: grid;
      gap: clamp(1rem, 2vw, 1.75rem);
    }

    .history-header {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 0.75rem;
    }

    .history-header h2 {
      margin: 0;
      font-size: clamp(1.6rem, 3.5vw, 2.4rem);
      letter-spacing: 0.04em;
      text-transform: uppercase;
      color: var(--text);
    }

    .history-count {
      color: var(--text-muted);
      font-size: clamp(1rem, 2vw, 1.3rem);
    }

    .history-grid {
      display: grid;
      gap: 0.75rem;
      grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
    }

    .history-cell {
      border-radius: 18px;
      padding: 0.85rem 0.75rem;
      background: rgba(15, 23, 42, 0.65);
      border: 1px solid rgba(96, 165, 250, 0.15);
      text-align: center;
    }

    .history-cell.active {
      background: rgba(96, 165, 250, 0.12);
      border-color: rgba(96, 165, 250, 0.45);
      box-shadow: inset 0 0 0 1px rgba(96, 165, 250, 0.3);
    }

    .history-number {
      font-size: clamp(1.4rem, 2.5vw, 2rem);
      font-weight: 700;
      letter-spacing: 0.08em;
    }

    .progress-track {
      display: grid;
      gap: 0.5rem;
    }

    .progress-label {
      display: flex;
      justify-content: space-between;
      font-size: 0.95rem;
      color: var(--text-muted);
    }

    .progress-bar {
      position: relative;
      height: 12px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.8);
      overflow: hidden;
      border: 1px solid rgba(96, 165, 250, 0.15);
    }

    .progress-fill {
      position: absolute;
      inset: 0;
      background: linear-gradient(90deg, rgba(96, 165, 250, 0.9), rgba(248, 113, 113, 0.9));
      transform-origin: left;
      transition: transform 0.35s ease;
    }

    @media (min-width: 992px) {
      .display-card {
        grid-template-columns: minmax(320px, 420px) 1fr;
        align-items: center;
      }

      .main-display {
        border-right: 1px solid var(--border);
        padding-right: clamp(1.5rem, 3vw, 2.75rem);
      }

      .history-panel {
        padding-left: clamp(1.5rem, 3vw, 2.75rem);
      }
    }

    @media (max-width: 599px) {
      .history-grid {
        grid-template-columns: repeat(auto-fit, minmax(70px, 1fr));
      }

      .big-number {
        border-width: 4px;
      }
    }

    @media (min-width: 1300px) {
      body {
        padding: 4rem 5rem;
      }

      .big-number {
        border-width: 8px;
        box-shadow: 0 0 60px rgba(96, 165, 250, 0.35);
      }
    }
  </style>
</head>
<body>
  <main class="app">
    <header>
      <h1>Bingo Draw Master</h1>
      <p>Draw unique bingo numbers (1 &ndash; 75) with a stage-ready presentation.</p>
    </header>

    <section class="display-card" aria-live="polite">
      <div class="main-display">
        <div class="big-number" id="bigNumber" aria-label="Last drawn number">
          <span class="big-value" id="bigValue">—</span>
        </div>

        <div class="progress-track">
          <div class="progress-label">
            <span>Progress</span>
            <span id="progressPercent">0%</span>
          </div>
          <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="75" aria-valuenow="0">
            <div class="progress-fill" id="progressFill" style="transform: scaleX(0);"></div>
          </div>
        </div>

        <div class="controls">
          <button id="drawButton" type="button">Draw Next Number</button>
          <button id="resetButton" type="button" class="secondary-btn">Reset Game</button>
        </div>
      </div>

      <div class="history-panel">
        <div class="history-header">
          <h2>Draw History</h2>
          <span class="history-count" id="historyCountLabel">No numbers drawn yet.</span>
        </div>
        <div class="history-grid" id="historyGrid" role="log" aria-live="polite"></div>
      </div>
    </section>
  </main>

  <script>
    (() => {
      const TOTAL_NUMBERS = 75;
      const STORAGE_KEY = "bingoDrawState_v1";

      const bigValueEl = document.getElementById("bigValue");
      const progressPercentEl = document.getElementById("progressPercent");
      const progressFillEl = document.getElementById("progressFill");
      const progressBar = document.querySelector(".progress-bar");
      const historyGridEl = document.getElementById("historyGrid");
      const historyCountLabelEl = document.getElementById("historyCountLabel");
      const drawButton = document.getElementById("drawButton");
      const resetButton = document.getElementById("resetButton");

      let remainingNumbers = [];
      let drawnNumbers = [];

      const formatNumber = (value) => value.toString().padStart(2, "0");

      const createShuffledNumbers = () => {
        const numbers = Array.from({ length: TOTAL_NUMBERS }, (_, i) => i + 1);
        for (let i = numbers.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [numbers[i], numbers[j]] = [numbers[j], numbers[i]];
        }
        return numbers;
      };

      const saveState = () => {
        try {
          localStorage.setItem(
            STORAGE_KEY,
            JSON.stringify({
              drawnNumbers,
              remainingNumbers
            })
          );
        } catch (error) {
          console.error("Unable to save bingo state:", error);
        }
      };

      const loadState = () => {
        try {
          const raw = localStorage.getItem(STORAGE_KEY);
          if (!raw) return null;
          const parsed = JSON.parse(raw);
          if (
            !parsed ||
            !Array.isArray(parsed.drawnNumbers) ||
            !Array.isArray(parsed.remainingNumbers)
          ) {
            return null;
          }

          const combinedLength = parsed.drawnNumbers.length + parsed.remainingNumbers.length;
          if (combinedLength !== TOTAL_NUMBERS) {
            return null;
          }

          const numberSet = new Set([...parsed.drawnNumbers, ...parsed.remainingNumbers]);
          if (numberSet.size !== TOTAL_NUMBERS) {
            return null;
          }

          const allValid = [...numberSet].every(
            (num) => Number.isInteger(num) && num >= 1 && num <= TOTAL_NUMBERS
          );
          if (!allValid) {
            return null;
          }

          return parsed;
        } catch (error) {
          console.error("Unable to load bingo state:", error);
          return null;
        }
      };

      const updateDisplay = (value) => {
        bigValueEl.textContent = value ? formatNumber(value) : "—";
      };

      const updateStatus = () => {
        const drawnCount = drawnNumbers.length;
        const percent = drawnCount === 0 ? 0 : Math.round((drawnCount / TOTAL_NUMBERS) * 100);
        progressPercentEl.textContent = `${percent}%`;
        progressFillEl.style.transform = `scaleX(${drawnCount / TOTAL_NUMBERS})`;
        progressBar.setAttribute("aria-valuenow", drawnCount);
      };

      const createHistoryCell = (number, isLatest) => {
        const cell = document.createElement("div");
        cell.className = "history-cell";
        if (isLatest) {
          cell.classList.add("active");
        }
        cell.innerHTML = `<span class="history-number">${formatNumber(number)}</span>`;
        return cell;
      };

      const refreshHistory = () => {
        historyGridEl.innerHTML = "";

        if (!drawnNumbers.length) {
          historyCountLabelEl.textContent = "No numbers drawn yet.";
          return;
        }

        const reversed = drawnNumbers.slice().reverse();
        reversed.forEach((number, index) => {
          const cell = createHistoryCell(number, index === 0);
          historyGridEl.appendChild(cell);
        });

        const count = drawnNumbers.length;
        historyCountLabelEl.textContent = `${count} ${count === 1 ? "number" : "numbers"} drawn`;
      };

      const updateButtonState = () => {
        if (!remainingNumbers.length) {
          drawButton.disabled = true;
          drawButton.textContent = "All Numbers Drawn";
        } else {
          drawButton.disabled = false;
          drawButton.textContent = "Draw Next Number";
        }
      };

      const updateAllUI = () => {
        const lastNumber = drawnNumbers.length ? drawnNumbers[drawnNumbers.length - 1] : 0;
        updateDisplay(lastNumber);
        updateStatus();
        refreshHistory();
        updateButtonState();
      };

      const drawNextNumber = () => {
        if (!remainingNumbers.length) return;

        const nextNumber = remainingNumbers.pop();
        drawnNumbers.push(nextNumber);

        updateAllUI();
        saveState();
      };

      const startNewGame = () => {
        remainingNumbers = createShuffledNumbers();
        drawnNumbers = [];
        updateAllUI();
      };

      drawButton.addEventListener("click", () => {
        drawNextNumber();
      });

      resetButton.addEventListener("click", () => {
        const confirmed = window.confirm(
          "Are you sure you want to reset the game?\nThis will clear the draw history and start over."
        );
        if (!confirmed) return;

        localStorage.removeItem(STORAGE_KEY);
        startNewGame();
      });

      document.addEventListener("keydown", (event) => {
        const activeElement = document.activeElement;
        const isInputFocused =
          activeElement && ["INPUT", "TEXTAREA", "SELECT", "BUTTON"].includes(activeElement.tagName);
        if (isInputFocused) return;

        if (event.code === "Space" || event.code === "Enter") {
          event.preventDefault();
          if (!drawButton.disabled) {
            drawNextNumber();
          }
        } else if (event.key.toLowerCase() === "r") {
          resetButton.click();
        }
      });

      const initialize = () => {
        const savedState = loadState();
        if (savedState) {
          drawnNumbers = savedState.drawnNumbers;
          remainingNumbers = savedState.remainingNumbers;
          updateAllUI();
        } else {
          startNewGame();
        }
      };

      initialize();
    })();
  </script>
</body>
</html>
